<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Job Scraper</title>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --ink:    #0d0d0d;
      --paper:  #f5f0e8;
      --accent: #e84c1e;
      --muted:  #9a9080;
      --card:   #fffdf7;
      --border: #ddd8cc;
      --tag-bg: #f0ece2;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'DM Mono', monospace;
      background: var(--paper);
      color: var(--ink);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ─── NOISE TEXTURE OVERLAY ─── */
    body::before {
      content: '';
      position: fixed; inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
      background-size: 180px;
      pointer-events: none;
      z-index: 9999;
      opacity: .5;
    }

    /* ─── HEADER ─── */
    header {
      border-bottom: 2px solid var(--ink);
      padding: 0 clamp(1.5rem, 5vw, 4rem);
      display: flex;
      align-items: stretch;
      gap: 0;
    }

    .header-left {
      padding: 2rem 2.5rem 2rem 0;
      border-right: 2px solid var(--ink);
      flex: 1;
    }

    .eyebrow {
      font-family: 'DM Mono', monospace;
      font-size: .7rem;
      letter-spacing: .18em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: .5rem;
    }

    h1 {
      font-family: 'Syne', sans-serif;
      font-size: clamp(2.4rem, 5vw, 4.2rem);
      font-weight: 800;
      line-height: .95;
      letter-spacing: -.03em;
    }

    h1 span { color: var(--accent); }

    .header-right {
      padding: 2rem 0 2rem 2.5rem;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      gap: 1rem;
      min-width: 280px;
    }

    .status-pill {
      display: inline-flex;
      align-items: center;
      gap: .5rem;
      background: var(--ink);
      color: var(--paper);
      font-size: .72rem;
      letter-spacing: .08em;
      padding: .4rem .9rem;
      border-radius: 999px;
      width: fit-content;
    }

    .dot {
      width: 7px; height: 7px;
      border-radius: 50%;
      background: #4cff91;
      animation: pulse 1.8s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50%       { opacity: .4; transform: scale(.7); }
    }

    /* ─── MAIN LAYOUT ─── */
    main {
      display: grid;
      grid-template-columns: 300px 1fr;
      min-height: calc(100vh - 130px);
    }

    /* ─── SIDEBAR ─── */
    aside {
      border-right: 2px solid var(--ink);
      padding: 2rem 1.5rem;
      position: sticky;
      top: 0;
      height: calc(100vh - 130px);
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    .sidebar-section h3 {
      font-family: 'Syne', sans-serif;
      font-size: .75rem;
      font-weight: 700;
      letter-spacing: .15em;
      text-transform: uppercase;
      color: var(--muted);
      margin-bottom: 1rem;
      padding-bottom: .5rem;
      border-bottom: 1px solid var(--border);
    }

    /* URL Input */
    .input-group {
      display: flex;
      flex-direction: column;
      gap: .5rem;
    }

    .input-group label {
      font-size: .7rem;
      letter-spacing: .1em;
      text-transform: uppercase;
      color: var(--muted);
    }

    input[type="url"], input[type="text"] {
      width: 100%;
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 6px;
      padding: .65rem .85rem;
      font-family: 'DM Mono', monospace;
      font-size: .78rem;
      color: var(--ink);
      transition: border-color .2s;
      outline: none;
    }

    input[type="url"]:focus, input[type="text"]:focus {
      border-color: var(--ink);
    }

    /* Scrape Button */
    .btn-scrape {
      width: 100%;
      background: var(--accent);
      color: #fff;
      border: none;
      border-radius: 6px;
      padding: .85rem 1rem;
      font-family: 'Syne', sans-serif;
      font-size: .95rem;
      font-weight: 700;
      letter-spacing: .04em;
      cursor: pointer;
      transition: background .2s, transform .1s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .6rem;
    }

    .btn-scrape:hover  { background: #c93d12; }
    .btn-scrape:active { transform: scale(.97); }

    .btn-scrape svg { flex-shrink: 0; }

    /* Filters */
    .filter-input {
      position: relative;
    }

    .filter-input svg {
      position: absolute;
      left: .75rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
      pointer-events: none;
    }

    .filter-input input {
      padding-left: 2.2rem;
    }

    /* Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: .6rem;
    }

    .stat-card {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 6px;
      padding: .75rem;
    }

    .stat-value {
      font-family: 'Syne', sans-serif;
      font-size: 1.6rem;
      font-weight: 800;
      line-height: 1;
      color: var(--ink);
    }

    .stat-label {
      font-size: .65rem;
      letter-spacing: .1em;
      text-transform: uppercase;
      color: var(--muted);
      margin-top: .25rem;
    }

    /* Export Button */
    .btn-export {
      width: 100%;
      background: transparent;
      color: var(--ink);
      border: 1.5px solid var(--ink);
      border-radius: 6px;
      padding: .7rem 1rem;
      font-family: 'Syne', sans-serif;
      font-size: .85rem;
      font-weight: 700;
      letter-spacing: .04em;
      cursor: pointer;
      transition: background .2s, color .2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
    }

    .btn-export:hover { background: var(--ink); color: var(--paper); }

    /* ─── CONTENT AREA ─── */
    .content {
      padding: 2.5rem clamp(1.5rem, 4vw, 3rem);
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }

    /* Toolbar */
    .toolbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .result-count {
      font-size: .8rem;
      color: var(--muted);
    }

    .result-count strong {
      font-family: 'Syne', sans-serif;
      font-size: 1rem;
      color: var(--ink);
    }

    .view-toggle {
      display: flex;
      gap: .3rem;
    }

    .view-btn {
      background: transparent;
      border: 1.5px solid var(--border);
      border-radius: 5px;
      padding: .45rem .6rem;
      cursor: pointer;
      color: var(--muted);
      transition: all .2s;
      line-height: 0;
    }

    .view-btn.active, .view-btn:hover {
      background: var(--ink);
      border-color: var(--ink);
      color: var(--paper);
    }

    /* ─── EMPTY STATE ─── */
    .empty-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 5rem 2rem;
      text-align: center;
      gap: 1rem;
      flex: 1;
    }

    .empty-icon {
      width: 72px; height: 72px;
      border: 2px dashed var(--border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--muted);
      font-size: 1.8rem;
    }

    .empty-state h2 {
      font-family: 'Syne', sans-serif;
      font-size: 1.4rem;
      font-weight: 700;
    }

    .empty-state p {
      color: var(--muted);
      font-size: .82rem;
      max-width: 28ch;
      line-height: 1.7;
    }

    /* ─── LOADING ─── */
    .loader {
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 5rem 2rem;
      gap: 1.5rem;
    }

    .loader.visible { display: flex; }

    .loader-bar {
      width: 200px;
      height: 3px;
      background: var(--border);
      border-radius: 2px;
      overflow: hidden;
    }

    .loader-fill {
      height: 100%;
      background: var(--accent);
      border-radius: 2px;
      animation: load 1.4s ease-in-out infinite;
      width: 40%;
    }

    @keyframes load {
      0%   { transform: translateX(-100%); }
      100% { transform: translateX(350%); }
    }

    .loader-text {
      font-size: .78rem;
      color: var(--muted);
      letter-spacing: .08em;
    }

    /* ─── JOBS GRID ─── */
    .jobs-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 1.2rem;
    }

    .jobs-grid.list-view {
      grid-template-columns: 1fr;
    }

    /* ─── JOB CARD ─── */
    .job-card {
      background: var(--card);
      border: 1.5px solid var(--border);
      border-radius: 10px;
      padding: 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      transition: border-color .2s, box-shadow .2s, transform .15s;
      animation: fadeUp .4s ease both;
    }

    .jobs-grid.list-view .job-card {
      flex-direction: row;
      align-items: center;
      gap: 1.5rem;
    }

    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(16px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .job-card:hover {
      border-color: var(--ink);
      box-shadow: 4px 4px 0 var(--ink);
      transform: translate(-2px, -2px);
    }

    .card-header { flex: 1; }

    .job-number {
      font-size: .65rem;
      letter-spacing: .12em;
      color: var(--muted);
      margin-bottom: .4rem;
    }

    .job-title {
      font-family: 'Syne', sans-serif;
      font-size: 1.05rem;
      font-weight: 700;
      line-height: 1.25;
      margin-bottom: .5rem;
    }

    .job-company {
      font-size: .8rem;
      color: var(--ink);
    }

    .job-location {
      display: inline-flex;
      align-items: center;
      gap: .3rem;
      font-size: .75rem;
      color: var(--muted);
      margin-top: .25rem;
    }

    .card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: .5rem;
      flex-wrap: wrap;
    }

    .jobs-grid.list-view .card-footer {
      flex-direction: column;
      align-items: flex-end;
      gap: .5rem;
      flex-shrink: 0;
    }

    .tag {
      background: var(--tag-bg);
      border: 1px solid var(--border);
      border-radius: 4px;
      font-size: .65rem;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--muted);
      padding: .2rem .55rem;
    }

    .btn-view {
      display: inline-flex;
      align-items: center;
      gap: .35rem;
      background: var(--ink);
      color: var(--paper);
      text-decoration: none;
      font-family: 'Syne', sans-serif;
      font-size: .72rem;
      font-weight: 700;
      letter-spacing: .06em;
      padding: .45rem .85rem;
      border-radius: 5px;
      transition: background .2s;
      white-space: nowrap;
    }

    .btn-view:hover { background: var(--accent); }

    /* ─── SCROLLBAR ─── */
    aside::-webkit-scrollbar { width: 4px; }
    aside::-webkit-scrollbar-track { background: transparent; }
    aside::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }

    /* ─── RESPONSIVE ─── */
    @media (max-width: 768px) {
      main { grid-template-columns: 1fr; }
      aside { position: relative; height: auto; border-right: none; border-bottom: 2px solid var(--ink); }
      header { flex-direction: column; }
      .header-left { border-right: none; border-bottom: 2px solid var(--ink); padding-right: 0; }
      .header-right { padding-left: 0; }
    }
  </style>
</head>
<body>

<!-- ─── HEADER ─── -->
<header>
  <div class="header-left">
    <p class="eyebrow">Python · Beautiful Soup · Requests</p>
    <h1>Job<br><span>Scraper</span></h1>
  </div>
  <div class="header-right">
    <div class="status-pill">
      <span class="dot"></span>
      Ready to scrape
    </div>
    <p style="font-size:.73rem;color:var(--muted);line-height:1.6;">
      Enter a target URL and hit <strong style="color:var(--ink);">Scrape</strong> to extract job listings in real time.
    </p>
  </div>
</header>

<main>

  <!-- ─── SIDEBAR ─── -->
  <aside>

    <div class="sidebar-section">
      <h3>Target</h3>
      <div class="input-group">
        <label>URL</label>
        <input type="url" id="urlInput"
          value="https://realpython.github.io/fake-jobs/"
          placeholder="https://…" />
      </div>
      <br>
      <button class="btn-scrape" onclick="startScrape()">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
        </svg>
        Scrape Jobs
      </button>
    </div>

    <div class="sidebar-section">
      <h3>Filter</h3>
      <div class="filter-input">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
        </svg>
        <input type="text" id="filterInput" placeholder="Title, company…" oninput="filterJobs()" />
      </div>
    </div>

    <div class="sidebar-section">
      <h3>Stats</h3>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="statTotal">—</div>
          <div class="stat-label">Total</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="statShown">—</div>
          <div class="stat-label">Shown</div>
        </div>
        <div class="stat-card" style="grid-column:span 2">
          <div class="stat-value" id="statSite" style="font-size:1rem;word-break:break-all;">—</div>
          <div class="stat-label">Source</div>
        </div>
      </div>
    </div>

    <div class="sidebar-section" style="margin-top:auto;">
      <button class="btn-export" id="exportBtn" onclick="exportCSV()" disabled>
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/>
        </svg>
        Export CSV
      </button>
    </div>

  </aside>

  <!-- ─── CONTENT ─── -->
  <div class="content">

    <!-- Toolbar -->
    <div class="toolbar" id="toolbar" style="display:none;">
      <p class="result-count">
        Showing <strong id="shownCount">0</strong> of <strong id="totalCount">0</strong> results
      </p>
      <div class="view-toggle">
        <button class="view-btn active" id="gridBtn" onclick="setView('grid')" title="Grid view">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="currentColor">
            <rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/>
            <rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/>
          </svg>
        </button>
        <button class="view-btn" id="listBtn" onclick="setView('list')" title="List view">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/>
            <line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Empty state -->
    <div class="empty-state" id="emptyState">
      <div class="empty-icon">⚙</div>
      <h2>No data yet</h2>
      <p>Enter a URL in the sidebar and press Scrape to pull job listings.</p>
    </div>

    <!-- Loader -->
    <div class="loader" id="loader">
      <div class="loader-bar"><div class="loader-fill"></div></div>
      <p class="loader-text">Scraping jobs…</p>
    </div>

    <!-- Jobs grid -->
    <div class="jobs-grid" id="jobsGrid"></div>

  </div>
</main>

<script>
  // ─── STATE ───────────────────────────────────────────────
  let allJobs = [];
  let currentView = 'grid';

  // ─── MOCK DATA (mirrors real site structure) ──────────────
  const MOCK_JOBS = [
    { title: "Senior Python Developer",      company: "Payne, Roberts and Davis",    location: "Stewartbury, AA",       url: "https://realpython.github.io/fake-jobs/jobs/senior-python-developer-0.html" },
    { title: "Energy Engineer",              company: "Vasquez-Davidson",             location: "Christopherville, AA",  url: "https://realpython.github.io/fake-jobs/jobs/energy-engineer-1.html" },
    { title: "Legal Executive",              company: "Jackson, Chambers and Levy",   location: "Port Ericaburgh, AA",   url: "https://realpython.github.io/fake-jobs/jobs/legal-executive-2.html" },
    { title: "Fitness Centre Manager",       company: "Savage-Bradley",               location: "East Seanview, AP",     url: "https://realpython.github.io/fake-jobs/jobs/fitness-centre-manager-3.html" },
    { title: "Product Manager",              company: "Ramirez Inc",                  location: "Davidville, AP",        url: "https://realpython.github.io/fake-jobs/jobs/product-manager-4.html" },
    { title: "Medical Technical Officer",    company: "Rogers-Owen",                  location: "Barryview, AE",         url: "https://realpython.github.io/fake-jobs/jobs/medical-technical-officer-5.html" },
    { title: "Psychologist, Prison",         company: "Garza, Baldwin and Forbes",    location: "Annabelhaven, AJ",      url: "https://realpython.github.io/fake-jobs/jobs/psychologist-prison-6.html" },
    { title: "Software Engineer (Backend)",  company: "Reynolds LLC",                 location: "New Josephineton, AE",  url: "https://realpython.github.io/fake-jobs/jobs/software-engineer-backend-7.html" },
    { title: "UX/UI Designer",              company: "Peters and Sons",              location: "Lake Christinaview, AX",url: "https://realpython.github.io/fake-jobs/jobs/ux-ui-designer-8.html" },
    { title: "Data Scientist",               company: "Hughes-Martinez",              location: "North Jeffreyton, AE",  url: "https://realpython.github.io/fake-jobs/jobs/data-scientist-9.html" },
    { title: "DevOps Engineer",              company: "Santos Group",                 location: "Port Lauraton, AJ",     url: "https://realpython.github.io/fake-jobs/jobs/devops-engineer-10.html" },
    { title: "Machine Learning Engineer",    company: "Powell-Webb",                  location: "Davidborough, AI",      url: "https://realpython.github.io/fake-jobs/jobs/machine-learning-engineer-11.html" },
  ];

  // ─── SCRAPE (simulated — real version calls Python backend) ─
  function startScrape() {
    const url = document.getElementById('urlInput').value.trim();
    if (!url) return;

    // Show loader, hide others
    document.getElementById('emptyState').style.display = 'none';
    document.getElementById('jobsGrid').innerHTML = '';
    document.getElementById('toolbar').style.display = 'none';
    document.getElementById('loader').classList.add('visible');
    document.getElementById('exportBtn').disabled = true;

    // Simulate network latency
    setTimeout(() => {
      document.getElementById('loader').classList.remove('visible');

      // Use mock data (replace with real fetch in production)
      allJobs = MOCK_JOBS.map((j, i) => ({ ...j, id: i + 1 }));

      updateStats(url);
      renderJobs(allJobs);
      document.getElementById('toolbar').style.display = 'flex';
      document.getElementById('exportBtn').disabled = false;
    }, 1800);
  }

  // ─── RENDER ──────────────────────────────────────────────
  function renderJobs(jobs) {
    const grid = document.getElementById('jobsGrid');
    grid.innerHTML = '';

    if (!jobs.length) {
      grid.innerHTML = `<p style="color:var(--muted);font-size:.82rem;grid-column:1/-1;">No results match your filter.</p>`;
      return;
    }

    jobs.forEach((job, i) => {
      const card = document.createElement('div');
      card.className = 'job-card';
      card.style.animationDelay = `${i * 40}ms`;
      card.innerHTML = `
        <div class="card-header">
          <div class="job-number">#${String(job.id).padStart(3,'0')}</div>
          <div class="job-title">${escape(job.title)}</div>
          <div class="job-company">${escape(job.company)}</div>
          <div class="job-location">
            <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
            ${escape(job.location)}
          </div>
        </div>
        <div class="card-footer">
          <span class="tag">Full-time</span>
          <a class="btn-view" href="${job.url}" target="_blank" rel="noopener">
            View
            <svg width="11" height="11" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          </a>
        </div>`;
      grid.appendChild(card);
    });

    document.getElementById('shownCount').textContent = jobs.length;
    document.getElementById('statShown').textContent = jobs.length;
  }

  // ─── FILTER ──────────────────────────────────────────────
  function filterJobs() {
    const q = document.getElementById('filterInput').value.toLowerCase();
    const filtered = allJobs.filter(j =>
      j.title.toLowerCase().includes(q) ||
      j.company.toLowerCase().includes(q) ||
      j.location.toLowerCase().includes(q)
    );
    renderJobs(filtered);
  }

  // ─── VIEW TOGGLE ─────────────────────────────────────────
  function setView(mode) {
    currentView = mode;
    const grid = document.getElementById('jobsGrid');
    grid.classList.toggle('list-view', mode === 'list');
    document.getElementById('gridBtn').classList.toggle('active', mode === 'grid');
    document.getElementById('listBtn').classList.toggle('active', mode === 'list');
  }

  // ─── STATS ───────────────────────────────────────────────
  function updateStats(url) {
    let domain = '—';
    try { domain = new URL(url).hostname; } catch {}
    document.getElementById('statTotal').textContent = allJobs.length;
    document.getElementById('statShown').textContent = allJobs.length;
    document.getElementById('totalCount').textContent  = allJobs.length;
    document.getElementById('statSite').textContent = domain;
  }

  // ─── EXPORT CSV ──────────────────────────────────────────
  function exportCSV() {
    if (!allJobs.length) return;
    const rows = [['#','Title','Company','Location','URL'],
      ...allJobs.map(j => [j.id, j.title, j.company, j.location, j.url])];
    const csv = rows.map(r => r.map(c => `"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
    const blob = new Blob([csv], { type: 'text/csv' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'jobs.csv';
    a.click();
  }

  // ─── UTILS ───────────────────────────────────────────────
  function escape(s) {
    return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }

  // Allow Enter key to trigger scrape
  document.getElementById('urlInput').addEventListener('keydown', e => {
    if (e.key === 'Enter') startScrape();
  });
</script>

</body>
</html>
